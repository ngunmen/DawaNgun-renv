device = "png"
)
ggsave(
filename = "output/compulsion_duration.png",
plot = compulsion_duration,
device = "png"
)
ggsave(
filename = "output/compulsion_severity.png",
plot = compulsion_severity,
device = "png"
)
ggsave(
filename = "output/obsession_severity.png",
plot = obsession_severity,
device = "png"
)
obsession_severity <- ggplot(ocd_data, aes(x = Obsession.Type, y = ocd_data$Y.BOCS.Score..Obsessions., fill = Obsession.Type)) +
geom_bar(stat = "summary", fun = "mean") +
labs(title = "Obsession Type & Severity",
x = "Obsession Types",
y = "Obsession Severity Score") +
scale_y_continuous(breaks = seq(0, max(ocd_data$Y.BOCS.Score..Obsessions. ), by = 5)) +
theme_minimal()
ggsave(
filename = "output/obsession_severity.png",
plot = obsession_severity,
device = "png"
)
#| fig.align = "center",
#| out.width = "600px"
library(knitr)
knitr::include_graphics(
here::here("output/ggplot_data.png")
)
knitr::include_graphics(
here::here("output/obsession_duration.png")
)
knitr::include_graphics(
here::here("output/compulsion_duration.png")
)
knitr::include_graphics(
here::here("output/compulsion_severity.png")
)
knitr::include_graphics(
here::here("output/obsession_severity.png")
)
Ogrouped_bar_plot <- ggplot(severity_data, aes(x = Obsession.Type, y = ocd_data$Y.BOCS.Score..Obsessions., fill = Ethnicity)) +
geom_bar(stat = "identity", position = "dodge") +
labs(title = "Severity of Obsession Types by Ethnicity",
x = "Obsession Types",
y = "Average Severity",
fill = "Ethnicity") +
scale_fill_brewer(palette = "Set2") +
theme_minimal() +
theme(axis.text.x = element_text(angle = 45, hjust = 1),
plot.title = element_text(hjust = 0.5),
legend.position = "bottom")
# Save the plot
ggsave(
filename = "output/obsession_severity_grouped_bar.png",
plot = Ogrouped_bar_plot,
device = "png",
width = 10,
height = 6,
dpi = 300
)
#| fig.align = "center",
#| out.width = "600px"
library(knitr)
knitr::include_graphics(
here::here("output/ggplot_data.png")
)
knitr::include_graphics(
here::here("output/obsession_duration.png")
)
knitr::include_graphics(
here::here("output/compulsion_duration.png")
)
knitr::include_graphics(
here::here("output/compulsion_severity.png")
)
knitr::include_graphics(
here::here("output/obsession_severity.png")
)
library(knitr)
opts_chunk$set(
echo = FALSE, warning = FALSE, message = FALSE
)
COVID19 <- read.csv("C:/MPH/SPRING_2024/DATA550/Final_Project/Subset_FINAL.csv", header = TRUE)
#cleaning the data set
library(labelled)
library(gtsummary)
library(dplyr)
var_label(finaldata) <- list(
AGE = "age of the patient",
SEX = "sex of the patient",
PREGNANT = "pregnancy Status",
ICU = "use of Intensive Care Unit",
PATIENT_TYPE = "Hospitalized or not",
PNEUMONIA ="pneumonia present or not"
)
pwd
# Import data
here::i_am("code/00_clean_data.R")
# Import data
here::i_am("code/00_clean_data.R")
setwd("~/Desktop/data550Grading/FinalProject3/code")
# Import data
here::i_am("code/00_clean_data.R")
abs_filepath <- here::here("insurance.csv")
insurance <- read.csv(abs_filepath, header=TRUE)
# Load libraries
library(gtsummary)
library(dplyr)
library(labelled)
# Load packages
pacman::p_load(
mlbench,
tidyverse,
rio,
sjPlot
)
# Label variables
var_label(insurance) = list(
age = "Age",
sex = "Gender",
bmi = "BMI",
children = "Number of Children",
smoker = "Smoker Status",
region = "Region"
)
saveRDS(
insurance,
file = here::here("output/insurance_clean.rds")
)
here::i_am("code/01_table1.R")
insurance <- readRDS(
file = here::here("output/insurance_clean.rds")
)
library(gtsummary)
library(dplyr)
table1 <- demographics_summary <-
tbl_summary(
insurance %>%
select(age, sex, bmi, children, smoker, region),
label = list(
age = "Age",
sex = "Gender",
bmi = "BMI",
children = "Number of Children",
smoker = "Smoker Status",
region = "Region"
)
)
# Print the demographics summary table
demographics_summary
saveRDS(
table1,
file = here::here("output/table1.rds")
)
here::i_am("code/02_scatterplot.R")
abs_filepath <- here::here("insurance.csv")
insurance <- read.csv(abs_filepath, header=TRUE)
insurance <- readRDS(
file = here::here("output/insurance_clean.rds")
)
library(ggplot2)
# Create a scatterplot of age vs. insurance charges
scatterplot <- ggplot(insurance, aes(x = age, y = charges)) +
geom_point (alpha = 0.6) +
labs(
title = "Relationship between Age and Insurance Charges",
x = "Age",
y = "Insurance Charges"
) +
theme_bw()
# Print the scatter plot
print(scatterplot)
ggsave(
here::here("output/scatterplot.png"),
plot = scatterplot,
device = "png"
)
here::i_am("code/03_mlr.R")
abs_filepath <- here::here("insurance.csv")
insurance <- read.csv(abs_filepath, header=TRUE)
insurance <- readRDS(
file = here::here("output/insurance_clean.rds")
)
library(gtsummary)
# Multiple linear regression
Multiple_linear_regression <- mlrfull <- lm(charges~age + sex + bmi + children + smoker + region, data = insurance)
summary(mlrfull)
mlr_table <- tbl_regression(mlrfull)
print(mlrfull)
saveRDS(
Multiple_linear_regression,
file = here::here("output/Multiple_linear_regression.rds")
)
saveRDS(
mlr_table,
file = here::here("output/mlr_table.rds")
)
here::i_am(
"code/render_report.R"
)
library(rmarkdown)
render(
"FinalProject3.Rmd",
output_format = "html_document",
output_file = here::here("output/FinalProject3.html")
)
print("it works")
here::i_am("code/02_scatterplot.R")
insurance <- readRDS(
file = here::here("output/insurance_clean.rds")
)
table1 <- readRDS(
file = here::here("output/table1.rds")
)
table1
mlr_table <- readRDS(
file = here::here("output/Multiple_linear_regression.rds")
)
mlr_table
knitr::include_graphics(
here::here("output/scatterplot.png")
)
setwd("~/Desktop/data550Grading/DATA550_Final_Project")
#cleaning the data set
library(labelled)
library(gtsummary)
library(dplyr)
var_label(finaldata) <- list(
AGE = "age of the patient",
SEX = "sex of the patient",
PREGNANT = "pregnancy Status",
ICU = "use of Intensive Care Unit",
PATIENT_TYPE = "Hospitalized or not",
PNEUMONIA ="pneumonia present or not"
)
library(knitr)
opts_chunk$set(
echo = FALSE, warning = FALSE, message = FALSE
)
COVID19 <- read.csv("C:/MPH/SPRING_2024/DATA550/Final_Project/Subset_FINAL.csv", header = TRUE)
NHANES_EH530 <- read_csv("~/Downloads/NHANES dataset for EH530.csv")
setwd("~/Downloads")
p_load(rio, ggplot2, dplyr, tidyr, EnvStats)
library(pacman)
p_load(rio, ggplot2, dplyr, tidyr, EnvStats)
hist(NHANES_EH530$LBXNFOS)
hist(NHANES_EH530$LBXMPAH)
hist(NHANES_EH530$LBXBFOA)
hist(NHANES_EH530$LBXMFOS)
hist(NHANES_EH530$LBXPFDE)
hist(NHANES_EH530$LBXPFHS)
hist(NHANES_EH530$LBXPFNA)
hist(log(NHANES_EH530$LBXNFOS))
hist(log(NHANES_EH530$LBXMPAH))
hist(log(NHANES_EH530$LBXBFOA))
hist(log(NHANES_EH530$LBXMFOS))
hist(log(NHANES_EH530$LBXPFDE))
hist(log(NHANES_EH530$LBXPFHS))
hist(log(NHANES_EH530$LBXPFNA))
round(geoMean(NHANES_EH530$LBXNFOS),2)
round(geoMean(NHANES_EH530$LBXMPAH),2)
round(geoMean(NHANES_EH530$LBXBFOA),2)
round(geoMean(NHANES_EH530$LBXMFOS),2)
round(geoMean(NHANES_EH530$LBXPFDE),2)
round(geoMean(NHANES_EH530$LBXPFHS),2)
round(geoMean(NHANES_EH530$LBXPFNA),2)
library(pacman)
p_load(rio, ggplot2, dplyr, tidyr, EnvStats)
library(readr)
NHANES_EH530 <- read_csv("~/Downloads/NHANES dataset for EH530.csv")
hist(NHANES_EH530$LBXNFOS)
hist(NHANES_EH530$LBXMPAH)
hist(NHANES_EH530$LBXBFOA)
hist(NHANES_EH530$LBXMFOS)
hist(NHANES_EH530$LBXPFDE)
hist(NHANES_EH530$LBXPFHS)
hist(NHANES_EH530$LBXPFNA)
hist(log(NHANES_EH530$LBXNFOS))
hist(log(NHANES_EH530$LBXMPAH))
hist(log(NHANES_EH530$LBXBFOA))
hist(log(NHANES_EH530$LBXMFOS))
hist(log(NHANES_EH530$LBXPFDE))
hist(log(NHANES_EH530$LBXPFHS))
hist(log(NHANES_EH530$LBXPFNA))
library(pacman)
p_load(rio, ggplot2, dplyr, tidyr, EnvStats)
library(pacman)
p_load(rio, ggplot2, dplyr, tidyr, EnvStats, readr)
NHANES_EH530 <- read_csv("~/Downloads/NHANES dataset for EH530.csv")
hist(NHANES_EH530$LBXNFOS)
hist(NHANES_EH530$LBXMPAH)
hist(NHANES_EH530$LBXBFOA)
hist(NHANES_EH530$LBXMFOS)
hist(NHANES_EH530$LBXPFDE)
hist(NHANES_EH530$LBXPFHS)
hist(NHANES_EH530$LBXPFNA)
hist(log(NHANES_EH530$LBXNFOS))
hist(log(NHANES_EH530$LBXMPAH))
hist(log(NHANES_EH530$LBXBFOA))
hist(log(NHANES_EH530$LBXMFOS))
hist(log(NHANES_EH530$LBXPFDE))
hist(log(NHANES_EH530$LBXPFHS))
hist(log(NHANES_EH530$LBXPFNA))
linear.model1 <- lm(BPXSY1 ~ log(LBXNFOS) +
ALQ111, HIQ011, bmi, RIDAGEYR, DMDMARTL)
linear.model1 <- lm(BPXSY1 ~ log(LBXNFOS) +
ALQ111, HIQ011, bmi, RIDAGEYR, DMDMARTL)
library(readr)
NHANES_EH530 <- read_csv("~/Downloads/NHANES dataset for EH530.csv")
hist(NHANES_EH530$LBXNFOS)
hist(NHANES_EH530$LBXMPAH)
hist(NHANES_EH530$LBXBFOA)
hist(NHANES_EH530$LBXMFOS)
hist(NHANES_EH530$LBXPFDE)
hist(NHANES_EH530$LBXPFHS)
hist(NHANES_EH530$LBXPFNA)
hist(log(NHANES_EH530$LBXNFOS))
hist(log(NHANES_EH530$LBXMPAH))
hist(log(NHANES_EH530$LBXBFOA))
hist(log(NHANES_EH530$LBXMFOS))
hist(log(NHANES_EH530$LBXPFDE))
hist(log(NHANES_EH530$LBXPFHS))
hist(log(NHANES_EH530$LBXPFNA))
hist(NHANES_EH530$LBXNFOS)
hist(NHANES_EH530$LBXMPAH)
hist(NHANES_EH530$LBXBFOA)
hist(NHANES_EH530$LBXMFOS)
hist(NHANES_EH530$LBXPFDE)
hist(NHANES_EH530$LBXPFHS)
hist(NHANES_EH530$LBXPFNA)
hist(log(NHANES_EH530$LBXNFOS))
hist(log(NHANES_EH530$LBXMPAH))
hist(log(NHANES_EH530$LBXBFOA))
hist(log(NHANES_EH530$LBXMFOS))
hist(log(NHANES_EH530$LBXPFDE))
hist(log(NHANES_EH530$LBXPFHS))
hist(log(NHANES_EH530$LBXPFNA))
round(geoMean(NHANES_EH530$LBXNFOS),2)
round(geoMean(NHANES_EH530$LBXMPAH),2)
round(geoMean(NHANES_EH530$LBXBFOA),2)
round(geoMean(NHANES_EH530$LBXMFOS),2)
round(geoMean(NHANES_EH530$LBXPFDE),2)
round(geoMean(NHANES_EH530$LBXPFHS),2)
round(geoMean(NHANES_EH530$LBXPFNA),2)
round(geoMean(NHANES_EH530$LBXNFOS),2)
round(geoMean(NHANES_EH530$LBXMPAH),2)
round(geoMean(NHANES_EH530$LBXBFOA),2)
round(geoMean(NHANES_EH530$LBXMFOS),2)
round(geoMean(NHANES_EH530$LBXPFDE),2)
round(geoMean(NHANES_EH530$LBXPFHS),2)
round(geoMean(NHANES_EH530$LBXPFNA),2)
here::i_am(
"code/01_make_output.R"
)
setwd("~/Downloads/final_project/code")
here::i_am(
"code/01_make_output.R"
)
pacman::p_load(
gtsummary
)
ocd_data<-readRDS(
file=here::here("data/ocd_data.rds")
)
Demoraphics_Table <- ocd_data %>%
select(Gender, Ethnicity, Marital.Status, Education.Level) %>%
tbl_summary(
by= Ethnicity
)
saveRDS(
Demoraphics_Table,
file = here::here("output", "Demographics_Table.rds")
)
pacman::p_load(
here
)
here::i_am(
"ocd_patient_dataset.csv"
)
absolute_path<-here::here("ocd_patient_dataset.csv")
ocd_data<-read.csv(absolute_path,header = TRUE)
ocd_data<-na.omit(ocd_data)
saveRDS(
ocd_data,"data/ocd_data.rds"
)
library(readr)
NHANES_EH530 <- read_csv("~/Downloads/NHANES dataset for EH530.csv")
p_load(rio, ggplot2, dplyr, tidyr, EnvStats)
hist(NHANES_EH530$LBXNFOS)
hist(NHANES_EH530$LBXMPAH)
hist(NHANES_EH530$LBXBFOA)
hist(NHANES_EH530$LBXMFOS)
hist(NHANES_EH530$LBXPFDE)
hist(NHANES_EH530$LBXPFHS)
hist(NHANES_EH530$LBXPFNA)
hist(log(NHANES_EH530$LBXNFOS))
hist(log(NHANES_EH530$LBXMPAH))
hist(log(NHANES_EH530$LBXBFOA))
hist(log(NHANES_EH530$LBXMFOS))
hist(log(NHANES_EH530$LBXPFDE))
hist(log(NHANES_EH530$LBXPFHS))
hist(log(NHANES_EH530$LBXPFNA))
round(geoMean(NHANES_EH530$LBXNFOS),2)
round(geoMean(NHANES_EH530$LBXMPAH),2)
round(geoMean(NHANES_EH530$LBXBFOA),2)
round(geoMean(NHANES_EH530$LBXMFOS),2)
round(geoMean(NHANES_EH530$LBXPFDE),2)
round(geoMean(NHANES_EH530$LBXPFHS),2)
round(geoMean(NHANES_EH530$LBXPFNA),2)
linear.model1 <- lm(BPXSY1 ~ log(LBXNFOS) +
ALQ111, HIQ011, bmi, RIDAGEYR, DMDMARTL)
setwd("~/Downloads/collaborating_using_renv")
here::i_am(
"code/01_make_output.R"
)
here::i_am(
"code/01_make_output.R"
)
set.seed(1)
random_numbers1 <- rnorm(100)
saveRDS(
random_numbers1,
file = here::here("output", "random_numbers1.rds")
)
set.seed(2)
random_numbers2 <- rgamma(100, shape = 1)
saveRDS(
random_numbers2,
file = here::here("output", "random_numbers2.rds")
)
set.seed(3)
random_numbers3 <- runif(100)
saveRDS(
random_numbers3,
file = here::here("output", "random_numbers3.rds")
)
here::i_am(
"code/01_make_output.R"
)
set.seed(1)
random_numbers1 <- rnorm(100)
saveRDS(
random_numbers1,
file = here::here("output", "random_numbers1.rds")
)
set.seed(2)
random_numbers2 <- rgamma(100, shape = 1)
saveRDS(
random_numbers2,
file = here::here("output", "random_numbers2.rds")
)
set.seed(3)
random_numbers3 <- runif(100)
saveRDS(
random_numbers3,
file = here::here("output", "random_numbers3.rds")
)
here::i_am(
"report.Rmd"
)
#! TO DO:
#!   read random_numbers1 from output directory
random_numbers1 <- readRDS(
here::here("output/random_numbers1.rds")
)
#! TO DO:
#!   read random_numbers2 from output directory
random_numbers2 <- readRDS(
here::here("output/random_numbers2.rds")
)
#! TO DO:
#!   read random_numbers3 from output directory
random_numbers3 <- readRDS(
here::here("output/random_numbers3.rds")
)
#| fig.cap = "Scatter plot of random numbers",
#| echo = FALSE
random_numbers3_quantiles <- quantile(
random_numbers3,
seq(0, 1, length = 5)
)
random_numbers3_breaks <- as.numeric(
cut(
random_numbers3,
breaks = random_numbers3_quantiles,
include.lowest = TRUE
)
)
colors <- 1:4
point_color <- colors[random_numbers3_breaks]
plot(
x = random_numbers1, y = random_numbers2,
col = point_color,
bty = "n", pch = 19
)
here::i_am(
"code/02_render_report.R"
)
rmarkdown::render(
here::here("report.Rmd")
)
install.packages("renv")
row.names(installed.packages("renv"))
renv::init()
renv::init()
